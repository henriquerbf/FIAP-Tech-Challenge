/* ============================
   Swagger UI – VS Dark Theme
   ============================ */

/* 🎨 Paleta VS Dark (LIGHT = desativado; DARK = ativo por data-theme ou SO) */
:root {
    /* Light (fallback) – mantemos neutro */
    --bg-0: #ffffff;
    --bg-1: #f8fafc;
    --bg-2: #eef2f7;
    --border: #e5e7eb;
    --txt-1: #0f172a;
    --txt-2: #334155;
    --muted: #64748b;
    --link: #007acc; /* VS blue */
    --accent: #007acc;
    --code-bg: #1e1e1e;
    --code-border: #3c3c3c;
    /* Cores por método (inspiradas na paleta VS) */
    --get: #57a64a; /* verde VS */
    --post: #569cd6; /* azul keyword */
    --put: #dcdcaa; /* amarelo var */
    --delete: #ce9178; /* laranja string */
    --patch: #c586c0; /* roxo */
    --head: #4fc1ff; /* ciano */
    --options: #b5cea8; /* verde pálido */

    --radius: 10px;
}

    /* VS Dark */
    :root[data-theme="dark"] {
        --bg-0: #1e1e1e; /* editor background */
        --bg-1: #252526; /* panel/card */
        --bg-2: #2d2d2d; /* inputs/topbar */
        --border: #3c3c3c; /* borders/dividers */
        --txt-1: #d4d4d4; /* editor foreground */
        --txt-2: #c5c5c5;
        --muted: #a0a0a0;
        --link: #3794ff; /* VS link */
        --accent: #007acc; /* VS accent */
    }

/* Se o usuário não escolheu: seguir SO (dark) */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
        color-scheme: dark light;
    }

    :root:not([data-theme]) {
        --bg-0: #1e1e1e;
        --bg-1: #252526;
        --bg-2: #2d2d2d;
        --border: #3c3c3c;
        --txt-1: #d4d4d4;
        --txt-2: #c5c5c5;
        --muted: #a0a0a0;
        --link: #3794ff;
        --accent: #007acc;
    }
}

/* Base */
html, body, .swagger-ui, .swagger-ui .wrapper, .swagger-ui .info {
    background: var(--bg-0) !important;
    color: var(--txt-1) !important;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
}

    /* Topbar */
    .swagger-ui .topbar {
        background: var(--bg-2) !important;
        border-bottom: 1px solid var(--border) !important;
    }

/* Toggle (mesmo JS anterior) */
#theme-toggle {
    appearance: none;
    cursor: pointer;
    border: 1px solid var(--border);
    background: var(--bg-1);
    color: var(--txt-1);
    padding: .4rem .7rem;
    border-radius: 999px;
    font-size: .875rem;
    margin-left: .5rem;
}

    #theme-toggle:focus {
        outline: 2px solid var(--accent);
        outline-offset: 2px;
    }

/* Links */
a, .swagger-ui .tab li a, .swagger-ui .info a {
    color: var(--link) !important;
}

/* Cards / blocos */
.swagger-ui .scheme-container,
.swagger-ui .opblock,
.swagger-ui .model-box,
.swagger-ui .dialog-ux,
.swagger-ui .response {
    background: var(--bg-1) !important;
    border: 1px solid var(--border) !important;
    color: var(--txt-1) !important;
    border-radius: var(--radius) !important;
}

    /* Barras de operação com filete por método */
    .swagger-ui .opblock .opblock-summary {
        border-left: 5px solid transparent;
        border-radius: var(--radius);
    }

.swagger-ui .opblock-get .opblock-summary {
    border-left-color: var(--get) !important;
}

.swagger-ui .opblock-post .opblock-summary {
    border-left-color: var(--post) !important;
}

.swagger-ui .opblock-put .opblock-summary {
    border-left-color: var(--put) !important;
}

.swagger-ui .opblock-delete .opblock-summary {
    border-left-color: var(--delete) !important;
}

.swagger-ui .opblock-patch .opblock-summary {
    border-left-color: var(--patch) !important;
}

.swagger-ui .opblock-head .opblock-summary {
    border-left-color: var(--head) !important;
}

.swagger-ui .opblock-options .opblock-summary {
    border-left-color: var(--options) !important;
}

.swagger-ui .opblock-summary-description,
.swagger-ui .opblock-title_normal {
    color: var(--txt-2) !important;
}

/* Inputs */
.swagger-ui input, .swagger-ui select, .swagger-ui textarea {
    background: var(--bg-2) !important;
    color: var(--txt-1) !important;
    border: 1px solid var(--border) !important;
    border-radius: 8px !important;
}

    .swagger-ui input::placeholder, .swagger-ui textarea::placeholder {
        color: var(--muted) !important;
    }

    .swagger-ui input:focus, .swagger-ui select:focus, .swagger-ui textarea:focus,
    .swagger-ui .btn:focus, .swagger-ui .opblock-summary:focus {
        outline: 2px solid var(--accent) !important;
        outline-offset: 2px !important;
    }

/* Botões */
.swagger-ui .btn {
    background: var(--bg-2) !important;
    color: var(--txt-1) !important;
    border: 1px solid var(--border) !important;
    box-shadow: none !important;
    border-radius: 8px !important;
}

    .swagger-ui .btn.authorize {
        border-color: var(--post) !important;
    }

    .swagger-ui .btn.execute {
        background: var(--post) !important;
        border-color: var(--post) !important;
        color: #0b1020 !important;
    }

    .swagger-ui .btn.cancel {
        border-color: var(--delete) !important;
        color: var(--delete) !important;
    }

/* Tabelas */
.swagger-ui table thead tr th,
.swagger-ui table tbody tr td {
    background: var(--bg-1) !important;
    color: var(--txt-1) !important;
    border-color: var(--border) !important;
}

.swagger-ui table tbody tr:nth-child(odd) td {
    background: #222222 !important; /* leve alternância como no VS */
}

/* Code blocks / model */
pre, code, .swagger-ui .model, .swagger-ui .microlight {
    background: var(--code-bg) !important;
    color: #d4d4d4 !important;
    border: 1px solid var(--code-border) !important;
    border-radius: 8px !important;
}

/* Tabs */
.swagger-ui .tab li a {
    color: var(--muted) !important;
}

.swagger-ui .tab li.active a {
    color: var(--txt-1) !important;
    border-bottom: 2px solid var(--accent) !important;
}

/* Modal */
.swagger-ui .dialog-ux .modal-ux-content {
    background: var(--bg-1) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius) !important;
}

/* Scrollbar (WebKit) com cara de VS */
*::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

*::-webkit-scrollbar-track {
    background: var(--bg-0);
}

*::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 6px;
}

/* Detalhes */
.swagger-ui .opblock-tag {
    color: var(--txt-1) !important;
}

.swagger-ui .markdown p, .swagger-ui .prop-format, .property-row .prop-format {
    color: var(--muted) !important;
}
